<!DOCTYPE html>
<html lang="en">
  <head>
    {% block title %}
    <title>FitTracker</title>
    {% endblock %}
    {% include 'base/css.html' %}
    {% include 'base/bootstrap_defaults.html' %}
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <!-- Add additional css in static file-->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  </head>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      window.addEventListener("scroll", function () {
        if (window.scrollY > 50) {
          document.getElementById("navbar_top").classList.add("fixed-top");
          // add padding top to show content behind navbar
          navbar_height = document.querySelector(".navbar").offsetHeight;
          document.body.style.paddingTop = navbar_height + "px";
        } else {
          document.getElementById("navbar_top").classList.remove("fixed-top");
          // remove padding top from body
          document.body.style.paddingTop = "0";
        }
      });
    });
  </script>

  <body>
    <div>
      <div>
        <div>
          {% block nav %}

          <nav id="navbar_top" class="navbar navbar-expand-sm navbar-dark bg-dark">
            <div class="container-fluid">
                <a href="{% url 'index' %}" class="navbar-brand">FitTracker</a>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div id="navbarCollapse" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="nav-item">
                            <a href="{% url 'index' %}" class="nav-link">Home</a>
                        </li>
                        <li class="nav-item">
                            <a href="{% url 'weights' %}" class="nav-link">Log</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Charts</a>
                            <div class="dropdown-menu">
                                <a href="{% url 'chart' %}" class="dropdown-item">Weekly</a>
                                <a href="{% url 'chart' %}" class="dropdown-item">Monthly</a>
                                <a href="{% url 'chart' %}" class="dropdown-item">Annually</a>
                                <div class="dropdown-divider"></div>
                                <a href="#"class="dropdown-item">Saved</a>
                            </div>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav ms-auto">
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Settings</a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a href="#" class="dropdown-item">Edit Profile</a>
                                <a href="#" class="dropdown-item">Configurations</a>
                                <div class="dropdown-divider"></div>
                                <a href="{% url 'logout' %}?next={{request.path}}" class="dropdown-item">Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
          {% endblock %}
        </div>
        <div>{% block content %}{% endblock %}</div>
        {% include 'base/js.html' %}
        <script>
          $(document).ready(function(){
            {% block jquery %}{% endblock %}
          })
        </script>
      </div>
    </div>
  </body>
</html>
